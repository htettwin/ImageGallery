var ImageServices=function(){function e(e,t,n){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText);n(e)}},o.open(e,t,!0),o.send()}this.getImageList=function(t){var n="https://api.flickr.com/services/rest/?method=flickr.galleries.getPhotos&api_key=45d9501675535fbb4747395acd8152c5&gallery_id=72157663337771571&extras=owner_name%2C+url_sq%2C+url_t%2C+url_s%2C+url_q%2C+url_m%2C+url_n%2C+url_z%2C+url_c%2C+url_l%2C+url_o&format=json&nojsoncallback=1";e("GET",n,t)}},ImageGallery=function(){function e(e){if(e&&e.photos&&e.photos.photo){s=e.photos.photo;for(var n in s)t(n,s[n].url_q,s[n].title)}else{var o=r("p"),a=document.createTextNode("No image found");o.appendChild(a),u.appendChild(o)}}function t(e,t,n){var a=r(u,"div","thumbnail"),l=r(a,"img");l.src=t,l.alt=n,a.appendChild(l);var i=r(a,"div","shim"),d=r(i,"button"),c=document.createTextNode("View Image");d.appendChild(c),d.onclick=function(t){console.log(" ON Click:: ",t," i:: ",e),o(e)},i.appendChild(d)}function n(){var t=new ImageServices;t.getImageList(e)}function o(e){console.log("Show Full Image For ",e),v=parseInt(e);var t=s[e];h=r(document.body,"div","lightbox"),document.body.className="fixed";var n=r(h,"div","btnCtn"),o=r(h,"div","contentCtn"),i=r(n,"button","close");i.onclick=function(e){document.body.removeChild(h),document.body.className=""};var u=r(o,"div","imageCtn");g=d(u,e,"left","Previous Image",a),m=r(u,"img"),m.src=t.url_c,m.alt=t.title,u.appendChild(m);var C=r(u,"p","infoCtn");p=document.createTextNode(t.title),C.appendChild(p),o.appendChild(u),f=d(u,e,"right","Next Image",l),c(g,e,"left"),c(f,e,"right")}function a(){v>0&&(v-=1),0>v&&(v=0),i(v),c(g,v,"left"),c(f,v,"right")}function l(){v<s.length&&(v+=1),v>s.length-1&&(v=s.length-1),i(v),c(g,v,"left"),c(f,v,"right")}function i(e){var t=s[e];m.src=t.url_c,m.alt=t.title,p.nodeValue=t.title}function r(e,t,n){var o=document.createElement(t);return n&&(o.className=n),e&&e.appendChild(o),o}function d(e,t,n,o,a){var l=r(e,"button","paddle "+n);l.onclick=a;var i=r(l,"span","sr-only"),d=document.createTextNode(o);return i.appendChild(d),l}function c(e,t,n){"left"===n?0>=t?e.disabled=!0:e.disabled=!1:"right"===n&&(t>=s.length-1?e.disabled=!0:e.disabled=!1)}var u,s,h,m,p,g,f,v;this.show=function(e){u=document.getElementById("gallery"),n()}};!function(){var e=new ImageGallery;e.show("gallery")}();